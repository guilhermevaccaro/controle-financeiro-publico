<div class="body">
  <div class="header">
    <form [formGroup]="form" class="form">
      <p-calendar view="month" formControlName="mes" dateFormat="MM" dataType="string" [readonlyInput]="true"
        (onSelect)="onDateSelect($event)"></p-calendar>
    </form>
  </div>

  <div class="conteudo">
    <div class="conteudo-saldo">

      <div class="card-saldo">
        <app-saldo [titulo]="'Saldo Atual'" [soma]="saldoMes" [icone]="'pi pi-wallet'"></app-saldo>
      </div>

      <div class="card-saldo">
        <app-saldo [titulo]="'Receitas'" [soma]="somaReceita" [icone]="'pi pi-arrow-up'"
          [color]="'success'"></app-saldo>
      </div>

      <div class="card-saldo">
        <app-saldo [titulo]="'Despesas'" [soma]="somaDespesa" [icone]="'pi pi-arrow-down'"
          [color]="'danger'"></app-saldo>
      </div>

      <div class="card-saldo">
        <app-saldo [titulo]="'Saldo Previsto'" [soma]="saldoPrevisto" [icone]="'pi pi-wallet'"
          [color]="'warning'"></app-saldo>
      </div>
    </div>

    <div class="linha">

      <div class="card-grafico-rosca">
        <p-card header="Despesas por Categoria" class="grafico">
          <app-transacoes-lista [valorSelecionado]="valorSelecionado" [filtro]="'despesa'"
            [somaDespesa]="somaDespesa"></app-transacoes-lista>
        </p-card>
      </div>

      <div class="card-grafico-rosca">
        <p-card header="Receitas por Categoria" class="grafico">
          <app-transacoes-lista [valorSelecionado]="valorSelecionado" [filtro]="'receita'"
            [somaReceita]="somaReceita"></app-transacoes-lista>
        </p-card>
      </div>
    </div>

    <div class="linha">
      <div class="card-grafico-barra">
        <p-card header="Balanço Mensal" class="grafico">
          <app-transacoes-lista [valorSelecionado]="valorSelecionado" [filtro]="''" [somaDespesa]="somaDespesa"
            [somaReceita]="somaReceita" [saldoPrevisto]="saldoPrevisto"></app-transacoes-lista>
        </p-card>
      </div>
      <div class="card-grafico-barra">
        <p-card header="Balanço Mensal" class="grafico">
          <app-transacoes-lista [valorSelecionado]="valorSelecionado" [filtro]="''" [somaDespesa]="somaDespesa"
            [somaReceita]="somaReceita" [saldoPrevisto]="saldoPrevisto"></app-transacoes-lista>
        </p-card>
      </div>
    </div>

    <div class="botaoAdd">
      <button mat-fab [matMenuTriggerFor]="menu" color="primary">
        <mat-icon>add</mat-icon>
      </button> <mat-menu #menu="matMenu" xPosition="before" yPosition="below" overlapTrigger="false">
        <button mat-menu-item (click)="showModalAdd('despesa')">
          <mat-icon>add</mat-icon>
          <span>Adicionar Despesa</span>
        </button>
        <button mat-menu-item (click)="showModalAdd('receita')">
          <mat-icon>add</mat-icon>
          <span>Adicionar Receita</span>
        </button>
      </mat-menu>
    </div>

    <p-dialog [header]="formData ? 'Editando ' + formData.tipo : 'Adicionando ' + tipo" [(visible)]="visible"
      [modal]="true">
      <app-form-modal [formData]="formData" (close)="closeModal()" [tipo]="tipo"></app-form-modal>
    </p-dialog>
  </div>

</div>
